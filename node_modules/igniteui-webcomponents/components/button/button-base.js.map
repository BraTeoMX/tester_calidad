{"version":3,"file":"button-base.js","sourceRoot":"","sources":["../../../src/components/button/button-base.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, type TemplateResult, html, nothing } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n\nimport { EventEmitterMixin } from '../common//mixins/event-emitter.js';\nimport { addKeyboardFocusRing } from '../common/controllers/focus-ring.js';\nimport { blazorDeepImport } from '../common/decorators/blazorDeepImport.js';\nimport type { Constructor } from '../common/mixins/constructor.js';\nimport { SizableMixin } from '../common/mixins/sizable.js';\nimport { partNameMap } from '../common/util.js';\n\nexport interface IgcButtonEventMap {\n  igcFocus: CustomEvent<void>;\n  igcBlur: CustomEvent<void>;\n}\n\n@blazorDeepImport\nexport abstract class IgcButtonBaseComponent extends SizableMixin(\n  EventEmitterMixin<IgcButtonEventMap, Constructor<LitElement>>(LitElement)\n) {\n  public static readonly formAssociated = true;\n\n  protected static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n\n  private _kbFocus = addKeyboardFocusRing(this);\n\n  protected __internals: ElementInternals;\n  protected _disabled = false;\n\n  @query('[part=\"base\"]', true)\n  private _nativeButton!: HTMLButtonElement;\n\n  /* alternateName: displayType */\n  /**\n   * The type of the button. Defaults to `button`.\n   * @attr\n   */\n  @property({ reflect: true })\n  public type: 'button' | 'reset' | 'submit' = 'button';\n\n  /**\n   * The URL the button points to.\n   * @attr\n   */\n  @property()\n  public href!: string;\n\n  /**\n   * Prompts to save the linked URL instead of navigating to it.\n   * @attr\n   */\n  @property()\n  public download!: string;\n\n  /**\n   * Where to display the linked URL, as the name for a browsing context.\n   * @attr\n   */\n  @property()\n  public target?: '_blank' | '_parent' | '_self' | '_top';\n\n  /**\n   * The relationship of the linked URL.\n   * See https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types\n   * @attr\n   */\n  @property()\n  public rel!: string;\n\n  /**\n   * The disabled state of the component\n   * @attr [disabled=false]\n   */\n  @property({ type: Boolean, reflect: true })\n  public get disabled(): boolean {\n    return this._disabled;\n  }\n\n  public set disabled(value: boolean) {\n    this._disabled = value;\n    this.toggleAttribute('disabled', Boolean(this._disabled));\n  }\n\n  /** Returns the HTMLFormElement associated with this element. */\n  public get form() {\n    return this.__internals.form;\n  }\n\n  constructor() {\n    super();\n    this.__internals = this.attachInternals();\n\n    this.size = 'medium';\n  }\n\n  /* alternateName: focusComponent */\n  /** Sets focus in the button. */\n  public override focus(options?: FocusOptions) {\n    this._nativeButton.focus(options);\n  }\n\n  /** Simulates a mouse click on the element */\n  public override click() {\n    this._nativeButton.click();\n  }\n\n  /* alternateName: blurComponent */\n  /** Removes focus from the button. */\n  public override blur() {\n    this._nativeButton.blur();\n  }\n\n  protected handleFocus() {\n    this.emitEvent('igcFocus');\n  }\n\n  protected handleBlur() {\n    this.emitEvent('igcBlur');\n    this._kbFocus.reset();\n  }\n\n  protected handleClick() {\n    this._kbFocus.reset();\n    switch (this.type) {\n      case 'submit':\n        return this.form?.requestSubmit();\n      case 'reset':\n        return this.form?.reset();\n      default:\n        return;\n    }\n  }\n\n  protected formDisabledCallback(state: boolean) {\n    this._disabled = state;\n    this.requestUpdate();\n  }\n\n  private renderButton() {\n    return html`\n      <button\n        part=${partNameMap({\n          base: true,\n          focused: this._kbFocus.focused,\n        })}\n        aria-label=${ifDefined(this.ariaLabel ?? nothing)}\n        ?disabled=${this.disabled}\n        type=${ifDefined(this.type)}\n        @click=${this.handleClick}\n        @focus=${this.handleFocus}\n        @blur=${this.handleBlur}\n      >\n        ${this.renderContent()}\n      </button>\n    `;\n  }\n\n  private renderLinkButton() {\n    return html`\n      <a\n        part=${partNameMap({\n          base: true,\n          focused: this._kbFocus.focused,\n        })}\n        role=\"button\"\n        aria-label=${ifDefined(this.ariaLabel ?? nothing)}\n        aria-disabled=${this.disabled ? 'true' : 'false'}\n        href=${ifDefined(this.href)}\n        target=${ifDefined(this.target)}\n        download=${ifDefined(this.download)}\n        rel=${ifDefined(this.rel)}\n        @focus=${this.disabled ? nothing : this.handleFocus}\n        @blur=${this.disabled ? nothing : this.handleBlur}\n      >\n        ${this.renderContent()}\n      </a>\n    `;\n  }\n\n  protected abstract renderContent(): TemplateResult;\n\n  protected override render() {\n    const link = this.href !== undefined;\n    return link ? this.renderLinkButton() : this.renderButton();\n  }\n}\n"]}